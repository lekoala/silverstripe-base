"use strict";(()=>{var z=e=>{let t=e;do{if(t.nextSibling){e.parsedCallback();return}t=t.parentNode}while(t);setTimeout(()=>{z(e)})},T=z;var G=0,O="9999",A="9998",R=new Set,L=!1,J=e=>{R.forEach(t=>{(e.target instanceof Window||e.target.contains(t))&&t.position()}),L=!1},Z=e=>{L||requestAnimationFrame(()=>J(e)),L=!0};document.addEventListener("scroll",Z,!0);window.addEventListener("resize",Z);var V=new IntersectionObserver(e=>{e.forEach(t=>{let i=document.querySelector(`anchor-ed[to="${t.target.id}"]`);i&&(t.intersectionRatio<=0?i.setAttribute("hidden",""):t.intersectionRatio&&i.hasAttribute("hidden")&&i.removeAttribute("hidden"),i.position())})}),x;function H(e){return e.split("-")[0]}function q(e){return e.split("-")[1]}function D(e){return["top","bottom"].includes(H(e))?"x":"y"}function K(e){return e==="y"?"height":"width"}function C(e){if(e=="top")return"bottom";if(e=="bottom")return"top";if(e=="left")return"right";if(e=="right")return"left"}function F(e,t,i,l=!1){switch(t){case"top":e.y-=i;break;case"bottom":e.y+=i;break;case"left":e.x+=l?i:-i;break;case"right":e.x+=l?-i:i;break}}function X(e,t,i,l=!1){let d=e.x+e.width/2-t.width/2,y=e.y+e.height/2-t.height/2,b=D(i),c=K(b),h=e[c]/2-t[c]/2,w=H(i),n=b==="x",a;switch(w){case"top":a={x:d,y:e.y-t.height};break;case"bottom":a={x:d,y:e.y+e.height};break;case"right":a={x:e.x+e.width,y};break;case"left":a={x:e.x-t.width,y};break;default:a={x:e.x,y:e.y}}switch(q(i)){case"start":a[b]-=h*(l&&n?-1:1);break;case"end":a[b]+=h*(l&&n?-1:1);break}return a}var W=class extends HTMLElement{constructor(){super(),this._enabled=!0,this._handler=null,this._events=[],this._targetHandler=null,this._targetEvents=[]}get target(){let t=this.to;if(t)return document.getElementById(t)}get el(){return this.firstElementChild}get placement(){return this.dataset.placement}get scope(){let t=this.getAttribute("scope");if(t)return document.getElementById(t)}get to(){return this.getAttribute("to")}set to(t){this.setAttribute("to",t)}on(t,i){this._events=this._events.concat(t),this._handler=i,this._addRemoveEvents()}onTarget(t,i){this._targetEvents=this._targetEvents.concat(t),this._targetHandler=i,this._addRemoveEvents()}enable(){this._enabled=!0}disable(){this._enabled=!1}_addRemoveEvents(t=!1){let i=t?"removeEventListener":"addEventListener";this._events.forEach(d=>{this[i](d,this)});let l=this.target;l&&this._targetEvents.forEach(d=>{l[i](d,this)})}_updateZindex(){x&&x!=this&&x.style.zIndex!=A&&(x.style.zIndex=A),x=this,this.style.zIndex!=O&&(this.style.zIndex=O)}connectedCallback(){T(this)}parsedCallback(){if(!this.to||this.to=="_next"||this.to=="_prev"){let i=this.to=="_prev"?this.previousElementSibling:this.nextElementSibling;i.id||(i.id=`anchored-${++G}`),this.to=i.id}let t=this.target;if(!t){console.error(`${this.to} is an invalid target`);return}R.add(this),this.style.position="fixed",this.style.zIndex=A,this.position(),this._addRemoveEvents(),this.dataset.keepVisible||V.observe(t)}disconnectedCallback(){let t=this.target;this._addRemoveEvents(!0),!this.dataset.keepVisible&&t&&V.unobserve(t),x===this&&(x=null),R.delete(this)}handleEvent(t){this._updateZindex(),this._handler&&t.currentTarget==this&&this._handler(t,this.el,this),this._targetHandler&&t.currentTarget==this.target&&this._targetHandler(t,this.el,this)}position(){let t=this.el;if(!t)return;let l=window.getComputedStyle(t).display!="none"&&!t.hasAttribute("hidden"),d=this.style.pointerEvents!="none";if(!l||!this._enabled){d&&(this.style.pointerEvents="none");return}d||(this.style.pointerEvents="unset");let y=this.target;if(!y){this.remove();return}let b=window.getComputedStyle(y),c=y.getBoundingClientRect(),h=this.dataset.arrow?this.querySelector(this.dataset.arrow):null,w=null;h&&(h.style.position="absolute",w=h.getBoundingClientRect());let n=this.getBoundingClientRect();n.height||(n.height=this.el.offsetHeight),n.width||(n.width=this.el.offsetWidth);let a=b.direction==="rtl",u=this.placement||"bottom",r=H(u),B=q(u),f=D(u),I=this.ownerDocument.documentElement,p=I.clientWidth,E=I.clientHeight;window.innerWidth-p>20&&(p=window.innerWidth,E=window.innerHeight);let v=0,S=0,P=this.scope;if(P){let o=P.getBoundingClientRect();v=o.x,S=o.y,p=o.x+o.width,E=o.y+o.height}let s=X(c,n,u,a),g=this.dataset.offset!==void 0?parseInt(this.dataset.offset):0;F(s,r,g,a);let _=!1;f=="x"&&(s.y<S||s.y>=E)&&(s.y<S&&s.y>=E?this.style.maxHeight="90vh":r=C(r),_=!0),f=="y"&&(s.x<v||s.x>=p)&&(s.x<v&&s.x>=p?this.style.maxWidth="90vw":r=C(r),_=!0),f=="y"&&I.clientWidth-n.width<100&&(r="top",f="x",_=!0),_&&(this.dataset.flipped="true",u=B?`${r}-${B}`:r,s=X(c,n,u,a),F(s,r,g,a));let k=0;if(this.dataset.shift!==void 0||n.width>c.width){let o=parseInt(this.dataset.shift||"0");s.x<v?(k=s.x-v+o,s.x=v+o,h&&f=="y"&&(s.x+=w.width)):s.x+n.width>p&&(k=p-(s.x+n.width)-o,s.x+=k)}if(h){let o,m;f=="x"&&(o=c.x>s.x?"right":"left",m=n.width/2-w.width/2+k,m>n.width-g&&(m=n.width-g),m<g&&(m=g)),f=="y"&&(o=c.y<s.y?"bottom":"top",m=n.height/2-w.height/2);let Y=C(o),j=C(r);h.style[r]="unset",h.style[j]=`${g*-1}px`,h.style[Y]="unset",h.style[o]=`${m}px`}t.classList.contains("tooltip")&&(t.dataset.popperPlacement=u,t.classList.add("bs-tooltip-auto")),t.classList.contains("popover")&&(t.dataset.popperPlacement=u,t.classList.add("bs-popover-auto")),(parseInt(this.style.left)!=parseInt(""+s.x)||parseInt(this.style.top)!=parseInt(""+s.y))&&Object.assign(this.style,{left:`${s.x}px`,top:`${s.y}px`})}},$=W;var N=customElements,M=(e,t)=>{N.get(e)||N.define(e,t)};M("anchor-ed",$);var ot=$;})();
