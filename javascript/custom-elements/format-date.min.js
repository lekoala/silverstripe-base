"use strict";(()=>{var a=t=>typeof t=="string";var s=t=>t.split(".").reduce((r,e)=>r[e],window);var u=t=>{a(t)&&(t=t[0]=="{"?JSON.parse(t):s(t));for(let[r,e]of Object.entries(t))if(e&&typeof e=="object"){let n=e.__fn;a(n)?t[r]=s(n):u(e)}return t},d=u;var m=t=>{let r=t;do{if(r.nextSibling){t.parsedCallback();return}r=r.parentNode}while(r);setTimeout(()=>{m(t)})},p=m;var l,f=class extends HTMLElement{connectedCallback(){l&&clearTimeout(l),p(this)}disconnectedCallback(){this.disconnected(),l=setTimeout(()=>{this.destroyed(),this.config=null},1e3)}parsedCallback(){this.config||(this.config=d(this.dataset.config||{}),this.created()),this.connected()}created(){}destroyed(){}connected(){}disconnected(){}},h=f;function w(t){return t?t instanceof Date?t:new Date(t):new Date}function o(t){return t=w(t),new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().split(".")[0].replace("T"," ")}function g(t){return o(t).split(" ")[0]}function y(t){return o(t).split(" ")[1]}var k=document.documentElement.getAttribute("lang")||navigator.language,S=k;var b=(t,r)=>{for(let e of r)Object.defineProperty(t,e,{get(){return t.getAttribute(e)},set(n){t.setAttribute(e,n)}})};var i=class extends h{value;lang;timeStyle;dateStyle;format;constructor(){super(),b(this,i.observedAttributes)}static get observedAttributes(){return["value","lang","timeStyle","dateStyle","format"]}attributeChangedCallback(r,e,n){this.formatter&&(r!="value"&&this.updateFormatter(),this.render())}getOptions(){let r=new Intl.DateTimeFormat,e=Object.assign(r.resolvedOptions(),this.config);return this.dateStyle&&(e.dateStyle=this.dateStyle),this.timeStyle&&(e.timeStyle=this.timeStyle),(e.dateStyle||e.timeStyle)&&(delete e.year,delete e.month,delete e.day),e}updateFormatter(){let r=this.lang||S;this.formatter=new Intl.DateTimeFormat(r,this.getOptions())}render(){let r=new Date(this.value);if(isNaN(r.getTime())){this.innerText="";return}let e;switch(this.format){case"iso":e=r.toISOString();break;case"utc":e=r.toUTCString();break;case"datetime":e=o(r);break;case"date":e=g(r);break;case"time":e=y(r);break;default:e=this.formatter.format(r);break}this.innerText=e}connected(){this.value||(this.value=new Date().toString()),this.updateFormatter(),this.render()}},c=i;var x=customElements,D=(t,r)=>{x.get(t)||x.define(t,r)};D("format-date",c);var B=c;})();
